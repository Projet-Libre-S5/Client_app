<app-update-modal [item]="selected_item" [isVisible]="updateModal" (closeMeEvent)="updateModal=false" (confirmEvent)="OnUpdate($event)"></app-update-modal>
<app-delete-modal [item]="selected_item" [isVisible]="deleteModal" (closeMeEvent)="deleteModal=false" (confirmEvent)="OnDelete($event)"></app-delete-modal>



<div class=" flex-col space-y-4 justify-center items-center animate__fadeIn animate__animated ">
<div>
    <h1 class="text-3xl poppins-medium text-gray-600">Adresses</h1>
</div>

<!--First Card-->
<div class="h-auto ">
    <div class="flex flex-col rounded-3xl bg-white  ">
      <p-table
        class="flex-1 overflow-auto"
        styleClass="rounded-2xl text-[15px] font-DMsans overflow-hidden"
        [value]="paginatedAdresses || []"
        [loading]="isLoading$"
        [selection]="[]"
        [rows]="10"
        dataKey="code"
      >
        <ng-template pTemplate="header">
          <tr class="bg-secondary-color">
            <th>Adresses</th>
            <th>Code postal</th>
            <th>Ville</th>
            <th>RÃ©gion</th>
            <th>Action</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.street }}</td>
            <td>{{ item.code }}</td>
            <td>{{ item.city }}</td>
            <td>{{ item.region }}</td>
            <td class="flex justify-center items-center w-3/4 text-slate-300 ">
              <button class="h-14 w-9 object-contain  text-slate-500 hover:text-slate-500" (click)="updateModal=true;selected_item=item">
                <i class="pi pi-pencil"></i>

              </button>
              <button class="h-14 w-9 object-contain text-red-300 hover:text-red-500" (click)="deleteModal=true;selected_item=item">
                <i class="pi pi-trash"></i>
              </button>
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="4">No data to show</td>
          </tr>
        </ng-template>
      </p-table>
     <p-paginator
     class="mt-auto"
        (onPageChange)="onPageChange($event)"
        [first]="pagination.current_page * pagination?.per_page"
        [rows]="pagination?.per_page"
        [totalRecords]="pagination?.total"
      ></p-paginator>
  </div>

    

</div>






</div>

