<div class="container mx-auto px-4 py-8">
  <!-- Header -->
  <header
    class="bg-gradient-to-r from-blue-400 to-purple-500 text-white py-8 text-center shadow-lg relative overflow-hidden"
  >
    <h1
      class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-400"
    >
      Gestion des Laboratoires
    </h1>
    <div
      class="absolute top-0 left-0 w-full h-full bg-cover opacity-10"
      style="
        background-image: url('https://example.com/abstract-lab-pattern.svg');
        animation: rotate 60s linear infinite;
      "
    ></div>
  </header>

  <!-- Form laboratory -->
  <div class="bg-white rounded-2xl shadow-lg p-6 mt-10 animate-fadeIn">
    <h2
      class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-400 mb-6"
    >
      Ajouter/Modifier un Laboratoire
    </h2>
    <form
      #labForm="ngForm"
      (ngSubmit)="onSubmit(labForm)"
      class="grid grid-cols-1 md:grid-cols-2 gap-6"
    >
      <div class="form-group">
        <label for="nom" class="block mb-2 font-semibold"
          >Nom du laboratoire :</label
        >
        <input
          type="text"
          id="nom"
          name="nom"
          ngModel
          class="w-full p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="form-group">
        <label for="logo" class="block mb-2 font-semibold">Logo :</label>
        <input
          type="file"
          id="logo"
          name="logo"
          (change)="onFileSelected($event)"
          accept="image/*"
          class="w-full p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="form-group">
        <label for="nrc" class="block mb-2 font-semibold"
          >Numéro de Registre de Commerce :</label
        >
        <input
          type="text"
          id="nrc"
          name="nrc"
          ngModel
          class="w-full p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="form-group">
        <label for="active" class="block mb-2 font-semibold">Statut :</label>
        <select
          id="active"
          name="active"
          ngModel
          class="w-full p-2 border border-gray-300 rounded"
        >
          <option value="true">Actif</option>
          <option value="false">Inactif</option>
        </select>
      </div>
      <div class="form-group">
        <label for="dateActivation" class="block mb-2 font-semibold"
          >Date d'activation :</label
        >
        <input
          type="date"
          id="dateActivation"
          name="dateActivation"
          ngModel
          class="w-full p-2 border border-gray-300 rounded"
        />
      </div>
      <div class="col-span-2">
        <button
          type="submit"
          class="btn bg-gradient-to-r from-blue-400 to-purple-500 text-white py-2 px-6 rounded-full uppercase tracking-wider hover:shadow-lg"
        >
          Enregistrer le Laboratoire
        </button>
      </div>
    </form>
  </div>

  <!-- Laboratory List -->
  <div class="lab-list mt-12 animate-fadeIn">
    <h2
      class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-400 mb-6"
    >
      Liste des Laboratoires
    </h2>
    <div
      *ngFor="let lab of laboratories"
      class="lab-card bg-white rounded-xl shadow-lg p-4 flex items-center mb-6 transition-transform transform hover:-translate-y-1 hover:shadow-2xl"
    >
      <img
        [src]="lab.logo"
        alt="Logo de {{ lab.nom }}"
        class="w-20 h-20 rounded-full object-cover mr-4"
      />
      <div class="lab-info flex-grow">
        <div class="lab-name text-lg font-semibold">{{ lab.nom }}</div>
        <div class="lab-details text-gray-600">
          NRC: {{ lab.nrc }}<br />
          Statut:
          <span
            [class.text-green-600]="lab.active"
            [class.text-red-600]="!lab.active"
            >{{ lab.active ? "Actif" : "Inactif" }}</span
          ><br />
          Date d'activation: {{ lab.dateActivation }}
        </div>
      </div>
      <div class="lab-actions flex space-x-3">
        <button
          (click)="editLab(lab)"
          class="action-btn bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
        >
          <i class="fas fa-edit"></i> Éditer
        </button>
        <button
          (click)="deleteLab(lab.id)"
          class="action-btn bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
        >
          <i class="fas fa-trash-alt"></i> Supprimer
        </button>
      </div>
    </div>
  </div>
</div>
