<div class="bg-white rounded-2xl">
    <p class="text-primary-light pt-6 px-10 text-xl font-semibold truncate">
      {{'add-laboratory.title' | translate}}
    </p>
    <div class="grid grid-cols-6 gap-4 px-10 pt-20 pb-44 h-[70vh]">
      <!-- steps -->
      <div class="col-span-2  pt-32 pl-6 ml-4 mb-6  min-w-[40px] border-gray-200" 
        [ngClass]="currentLang === 'ar'? 'border-l-2':'border-r-2'"
      >
        <app-breadcrumb-steps  [step]="step"/>
      </div>
   <ng-container *ngIf="step == 1">
  <!-- form -->
  <div class="animate__animated m-auto ml-8 py-2 animate__zoomIn col-span-3 xl:col-span-3 max-xl:col-span-4 relative w-full">
    <form [formGroup]="UserFormStepOne" class="w-full max-w-lg ml-4">
      <!-- Row 1: Nom / Prénom -->
      <div class="grid grid-cols-2 gap-6 mb-6">
        <div class="col-span-1">
          <label for="nom" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.nom' | translate }}
          </label>
          <input
            formControlName="nom"
            id="nom"
            type="text"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
            placeholder="{{ 'form.enter_nom' | translate }}"
          />
        </div>
        <div class="col-span-1">
          <label for="prenom" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.prenom' | translate }}
          </label>
          <input
            formControlName="prenom"
            id="prenom"
            type="text"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
            placeholder="{{ 'form.enter_prenom' | translate }}"
          />
        </div>
      </div>
    
      <!-- Row 2: Téléphone / Email -->
      <div class="grid grid-cols-2 gap-6 mb-6">
        <div class="col-span-1">
          <label for="numTel" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.numTel' | translate }}
          </label>
          <input
            formControlName="numTel"
            id="numTel"
            type="text"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
            placeholder="{{ 'form.enter_numTel' | translate }}"
          />
        </div>
        <div class="col-span-1">
          <label for="email" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.email' | translate }}
          </label>
          <input
            formControlName="email"
            id="email"
            type="email"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
            placeholder="{{ 'form.enter_email' | translate }}"
          />
        </div>
      </div>
    
      <!-- Row 3: Profession / Rôle -->
      <div class="grid grid-cols-2 gap-6 mb-6">
        <div class="col-span-1">
          <label for="profession" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.profession' | translate }}
          </label>
          <select
            formControlName="profession"
            id="profession"
            (change)="onProfessionChange()"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
          >
            <option value="chercheur">{{ 'form.chercheur' | translate }}</option>
            <option value="medecin">{{ 'form.medecin' | translate }}</option>
            <option value="patient">{{ 'form.patient' | translate }}</option>
          </select>
        </div>
        <div class="col-span-1" *ngIf="showRole">
          <label for="role" class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm">
            {{ 'form.role' | translate }}
          </label>
          <select
            formControlName="role"
            id="role"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
          >
            <option value="admin">{{ 'form.admin' | translate }}</option>
            <option value="employe">{{ 'form.employe' | translate }}</option>
            <option value="utilisateur">{{ 'form.utilisateur' | translate }}</option>
          </select>
        </div>
      </div>
    
  
    </form>
    

    <!-- Next Button -->
    <div class="flex justify-center items-center h-full">
      <button
        [disabled]="!UserFormStepOne.valid"
        class="bg-primary text-white rounded-full px-8 py-2 text-sm md:text-base disabled:bg-gray-300 disabled:cursor-not-allowed"
        (click)="onNextPage()"
      >
        {{'add-laboratory.next' | translate}}
      </button>
    </div>
  </div>
</ng-container>

      
      
      <ng-container *ngIf="step == 2 ">
        <!-- form -->
        <div class="animate__animated animate__zoomIn max-md:col-span-5 col-span-4 ">

          
       
          <!--<p-fileUpload  #fileUploader name="myfile[]" [multiple]="true"accept="image/*"  maxFileSize="1000000"(onUpload)="onTemplatedUpload()"
               (onSelect)="onSelectedFiles($event)" >
           <ng-template class=" bg-white" pTemplate="header">
            <button
            type="button"
            class="text-sm px-6 py-2 text-white  bg-primary rounded-xl drop-shadow-md"
            (click)="fileInput.click()"
          >
            <span *ngIf="logoPreview">Modifier Logo</span>
            <span *ngIf="!logoPreview">Ajouter Logo</span>
          </button>
          <input
          type="file"
          accept="image/*"
          class="hidden"
          id="logo"
          #fileInput
          (change)="onFileSelected($event)"
        />
            </ng-template>
            <ng-template pTemplate="content" let-files let-uploadedFiles="uploadedFiles"
                         let-removeFileCallback="removeFileCallback"
                         let-removeUploadedFileCallback="removeUploadedFileCallback">
              <div *ngIf="files?.length > 0">
           <div class="flex flex-wrap p-0 sm:p-5 gap-5">
                  <div *ngFor="let file of files; let i = index"
                       class="card m-0 px-6 flex flex-column border-1 surface-border align-items-center gap-3">
                    <div>
                      <img role="presentation" [alt]="file.name" [src]="file.objectURL" width="100" height="50"/>
                    </div>
                    <span class="font-semibold">{{  file.name }}</span>
                    <div>{{  formatSize(file.size) }}</div>
                    <p-badge value="Completed" class="mt-3" severity="success"/>
                    <p-button label="X" (click)="onRemoveTemplatingFile($event, file, removeFileCallback , i)"
                              [outlined]="true" [rounded]="true" severity="danger"/>
                  </div>
                </div>
              </div>
            </ng-template>
            <ng-template pTemplate="file"></ng-template>
            <ng-template pTemplate="empty">
              <div class="bg-primary/5 border font-chillax  flex justify-center rounded-md px-16">
                <div class="flex flex-col h-52 align-middle m-auto">
                  <p class=" text-black font-semibold">drag and drop image or <span
                    class="text-primary"><button>browser</button></span></p>
                  <p class="text-primary-ligh">SVG,PNG,JPEG.GIF</p>
                </div>
              </div>
            </ng-template>
          </p-fileUpload>-->
          <ng-container *ngIf="showError">
            <p
            class="text-sm text-red-600 animate__animated animate__fadeInDown">
            {{'add-laboratory.required' | translate}}
          </p>
          </ng-container>
          <div class="absolute bottom-4 right-1 grid grid-cols-3 gap-2">
            

          <div class="flex flex-row space-x-2 justify-center items-center ">
            <button
            class="  border-2 border-primary text-primary bg-white rounded-full scroll-px-36 py-2 text-s md:text-base disabled:bg-gray-300 disabled:cursor-not-allowed"
            (click)="onBackPage()"
          >
          {{'add-laboratory.previous' | translate}}

          </button>
            <button
            [disabled]="!image"
            class=" bg-primary  text-white   rounded-full px-3 py-2 text-s md:text-base disabled:bg-gray-300 disabled:cursor-not-allowed"
            (click)="onNextPage()"
          >
          {{'add-laboratory.next' | translate}}

          </button>
          </div>
          </div>

        </div>
      </ng-container>


    <ng-container  *ngIf="step == 3" >
      <!-- form -->
      <div class="animate__animated my-auto bg animate__zoomIn xl:col-span-4 max-xl:col-span-5">
        <ng-container>
          <!-- Step 3: Address Form -->
          <div class="animate__animated m-auto ml-8 animate__zoomIn col-span-3 xl:col-span-3 max-xl:col-span-4 relative w-full">
            <form [formGroup]="UserFormStepThree" class="w-full max-w-lg ml-4 grid grid-cols-2 gap-6">
               <!-- Row 1: numTel / fax -->
              <div class="">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-numTel">
                  {{'add-laboratory.phone_number' | translate}}
                </label>
                <input
                  formControlName="numTel"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-numTel"
                  type="text"
                  placeholder="{{'add-laboratory.phone_number' | translate}}"
                />
              </div>
              <div class="">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-fax">
                  {{'add-laboratory.fax' | translate}}
                </label>
                <input
                  formControlName="fax"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-fax"
                  type="text"
                  placeholder="{{'add-laboratory.fax' | translate}}"
                />
            </div>


  <!-- Row 2: Email -->
  <div class="mb-6 col-span-2">
    <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-email">
      {{'add-laboratory.email' | translate}}
    </label>
    <input
      formControlName="email"
            class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
            id="grid-email"
            type="email"
            placeholder="{{'add-laboratory.email' | translate}}"
            />
            </div>




              <!-- Row 1: Rue and Code Postal -->
              <div class="mb-6">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-rue">
                  {{'add-laboratory.rue' | translate}}
                </label>
                <input
                  formControlName="rue"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-rue"
                  type="text"
                  placeholder="{{'add-laboratory.enter_rue' | translate}}"
                />
                <p *ngIf="UserFormStepThree.get('rue')?.invalid && (UserFormStepThree.get('rue')?.dirty || UserFormStepThree.get('rue')?.touched)" class="pl-2 mt-2 text-xs text-red-600">
                  {{'add-laboratory.required' | translate}}
                </p>
              </div>
          
              <div class="mb-6">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-codePostal">
                  {{'add-laboratory.code_postal' | translate}}
                </label>
                <input
                  formControlName="codePostal"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-codePostal"
                  type="text"
                  placeholder="{{'add-laboratory.enter_code_postal' | translate}}"
                />
                <p *ngIf="UserFormStepThree.get('codePostal')?.invalid && (UserFormStepThree.get('codePostal')?.dirty || UserFormStepThree.get('codePostal')?.touched)" class="pl-2 mt-2 text-xs text-red-600">
                  {{'add-laboratory.required' | translate}}
                </p>
              </div>
          
              <!-- Row 2: Commune and Ville -->
              <div class="mb-6">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-commune">
                  {{'add-laboratory.commune' | translate}}

                </label>
                <input
                  formControlName="commune"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-commune"
                  type="text"
                  placeholder="{{'add-laboratory.enter_commune' | translate}}"
                />
                <p *ngIf="UserFormStepThree.get('commune')?.invalid && (UserFormStepThree.get('commune')?.dirty || UserFormStepThree.get('commune')?.touched)" class="pl-2 mt-2 text-xs text-red-600">
                  {{'add-laboratory.required' | translate}}
                </p>
              </div>
          
              <div class="mb-6">
                <label class="block tracking-wide text-gray-700 font-[300] mb-2 text-sm" for="grid-ville">
                  {{'add-laboratory.ville' | translate}}
                </label>
                <input
                  formControlName="ville"
                  class="appearance-none block w-full text-gray-700 font-[200] border border-gray-200 rounded focus:outline-none focus:bg-white peer min-h-[auto] focus:border-[1.5px] focus:border-primary px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary bg-slate-100"
                  id="grid-ville"
                  type="text"
                  placeholder="{{'add-laboratory.enter_ville' | translate}}"
                />
                <p *ngIf="UserFormStepThree.get('ville')?.invalid && (UserFormStepThree.get('ville')?.dirty || UserFormStepThree.get('ville')?.touched)" class="pl-2 mt-2 text-xs text-red-600">
                  {{'add-laboratory.required' | translate}}
                </p>
              </div>
          
              <!-- Next Button -->
          <div class="space-x-2 flex justify-center mt-4 ml-2" >
                <button
            class="  border-2 border-primary text-primary bg-white rounded-full px-8 py-2 text-sm md:text-base disabled:bg-gray-300 disabled:cursor-not-allowed"
            (click)="onBackPage()"
          >
          {{'add-laboratory.previous' | translate}}
          </button>
            <button
            [disabled]="!UserFormStepThree.valid"
            class=" bg-primary  text-white   rounded-full px-8 py-2 text-sm md:text-base disabled:bg-gray-300 disabled:cursor-not-allowed"
            (click)="onNextPage()"
          >
          {{'add-laboratory.validate' | translate}}
          </button>
              </div>
            </form>
          </div>
          
        </ng-container>
        
        
        
        
      </div>
    </ng-container>

    </div>
  </div>
